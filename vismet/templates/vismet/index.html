{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <title>Instituto de Estudos Climáticos do Espírito Santo</title>

    <link type="text/css" rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link type="text/css" rel="stylesheet" href="{% static 'vismet/css/main.css' %}">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>

  <body>

    <!-- Sidebar -->
    <div class="w3-sidebar w3-bar-block w3-border-right" style="display:none" id="mySidebar">
      <button onclick="w3_close()" class="w3-bar-item w3-button">Fechar</button>
      <div class="w3-dropdown-hover">
        <button class="w3-button">Dados<i class="fa fa-caret-down"></i></button>
        <div class="w3-dropdown-content w3-bar-block">
          <button onclick="w3_close()" id="btn-observados" value="observados" class="w3-bar-item w3-button">Observados</a>
          <button onclick="w3_close()" id="btn-reanálise" value="reanálise" class="w3-bar-item w3-button">Reanálise</a>
          <button onclick="w3_close()" id="btn-simulados" value="simulados" class="w3-bar-item w3-button">Simulados</a>
        </div>
      </div>
    <!--<a href="#" class="w3-bar-item w3-button">Sobre</a>-->
    </div>

    <div class="main">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-3" id="sidebar">
            <button id="linkplataforma" class="w3-button w3-white w3-xlarge" onclick="w3_open()">☰</button>
            <h1><a href="{% url 'home:index' %}">IEC-ES</a></h1>
            <div id="div-observados">
              <h3>Dados Observados:</h3>
              <div class="help-tip">
                  <p>Para utilizar a plataforma, selecione:<br>1. Fonte<br>2. Variável<br>3. Estação<br>4. Datas inicial e final<br>5. Clique em "Visualizar" ou "Baixar"</p>
              </div>
              <p>Dados históricos coletados pelas estações meteorológicas.</p>
              <div class="selectdiv">
                <label for="fonte-dados-observados">Fonte:</label>
                <select class="sel-data-source" name="fonte-dados-observados">
                </select><br>

                <form action="" method="get">
                  {% csrf_token %}
                  <label for="variable">Variável:</label>
                  <select class="sel-data-variable" name="variable">
                  </select>
                </form><br>
              </div>
              <input type="hidden" value="0" id="input_station_code">
            </div>

            <div id="div-reanálise">
              <h3>Dados de Reanálise:</h3>
              <p>Dados de reanálise bla bla bla bla bla bla bla bla bla bla bla bla.</p>
              <div class="selectdiv">
                <label for="fonte-dados-observados">Fonte:</label>
                <select class="sel-data-source" name="fonte-dados-observados">
                </select>

                <form action="" method="get">
                  {% csrf_token %}
                  <label for="variable">Variável:</label>
                  <select class="sel-data-variable" name="variable">
                  </select>
                </form><br>
              </div>
            </div>


            <div id="div-simulados">
              <h3>Dados Simulados:</h3>
              <!-- <p>Média por município dos dados do Modelo Eta HADGEM2-ES 5km para o estado de Espírito Santo.</p> -->
              <div class="selectdiv">
                <label for="fonte-dados-simulados">Fonte:</label>
                <select class="sel-data-source" name="fonte-dados-simulados"></select><br>

                <label for="sel-data-model">Modelo:</label>
                <select class="sel-data-model" name="sel-data-model"></select><br>

                <form action="" method="get">
                  {% csrf_token %}
                  <label for="variable">Variável:</label>
                  <select class="sel-data-variable" name="variable">
                  </select><br>
                </form><br>
              </div>  

              <input type="hidden" value="0" id="input_city_name">
            </div>

            <label for="startDate">Data inicial:</label>
            <input class="dateinput" type="text" id="startDate" name="startDate"><br>

            <label for="finalDate">Data final:</label>
            <input class="dateinput" type="text" id="finalDate" name="finalDate"><br>

            <button type="button" id="btn_submit">Visualizar</button>
            <button type="button" id="btn_download" name="btn_download">Baixar</button>

            <input type="hidden" id="selected_source" value="{{ selected_source }}">
          </div>

          <div class="col-md-9">
            <div class="row">
              <div id="map"></div>
            </div>
            <div class="row">
              <canvas id="chart" height="65"></canvas>
            </div>
          </div>
        </div>

        <input type="hidden" id="url-cities" value="{% url 'vismet:cities' %}">
        <input type="hidden" id="url-pixels" value="{% url 'vismet:pixels' %}">
        <input type="hidden" id="url-stations" value="{% url 'vismet:api_stations' %}">
        <input type="hidden" id="url-data-options" value="{% url 'vismet:data_options' %}">
      </div>
    </div>

    <!-- CDNs das bibliotecas -->
    <!-- jQuery 3.5.1 -->
    <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous">
    </script>

    <!-- Sidebar -->
    <script>
      function w3_open() {
          document.getElementById("mySidebar").style.display = "block";
      }
      function w3_close() {
          document.getElementById("mySidebar").style.display = "none";
      }
    </script>

    <!-- Popper -->
    <script type="text/javascript" src="https://unpkg.com/@popperjs/core@2"></script>

    <!-- Bootstrap 4 -->
    <script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

    <!-- ChartJs -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

    <!-- jQuery UI 1.12 -->
    <script
			  src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
			  integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
			  crossorigin="anonymous">
    </script>

    <!-- Leaflet 1.7 -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""></script>

    <!-- JS próprios da plataforma  -->
    <script type="text/javascript" src="{% static 'vismet/js/init-vars.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/chart.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/map.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/xavier.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/inmet.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/ana.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/cities.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/pixels.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/layers.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/botoes.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/datepicker.js' %}"></script>
    <script type="text/javascript" src="{% static 'vismet/js/init.js' %}"></script>
  <script type="text/javascript" src="{% static 'vismet/js/validadata.js' %}"></script>
  </body>
</html>
